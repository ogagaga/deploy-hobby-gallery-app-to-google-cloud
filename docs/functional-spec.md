# Hobby Gallery 機能仕様書

このドキュメントでは、Hobby Gallery アプリケーションの機能仕様について記述します。

## 1. アプリケーション概要

プラモデルや模型の完成品写真を管理・展示するためのギャラリーアプリケーションです。
シンプルながらもモダンなデザインを特徴とし、制作データの詳細な管理が可能です。

## 2. 画面一覧・機能

### 2.1 ギャラリー一覧画面 (TOP)
- **URL**: `/`
- **主要機能**:
  - 投稿された作品の新着順一覧表示
  - 各作品のカード表示（メイン画像、タイトル、ジャンル、タグ）
  - ログイン状態に応じた「作品を投稿」ボタンの表示
  - サイト紹介（ABOUT）へのリンク
  - ログイン・ログアウト（ヘッダー内）

### 2.2 作品詳細画面
- **URL**: `/works/[id]`
- **主要機能**:
  - 作品の全情報の閲覧
  - 制作データ（キット名、メーカー、スケール、使用塗料等）の表示
  - 説明文、改造ポイントの表示
  - タグ一覧の表示
  - **サブ写真ギャラリー**: メイン画像以外の追加写真の閲覧機能。

### 2.3 作品投稿画面 (要ログイン)
- **URL**: `/works/new`
- **主要機能**:
  - 作品情報の入力フォーム
  - 画像のアップロード機能
  - ジャンルの選択、タグの設定

### 2.4 ウェルカム・紹介画面
- **URL**: `/welcome`
- **主要機能**:
  - アプリケーションの目的や使い方の紹介
  - 初回アクセス時や「サイトについて」クリック時に表示

## 3. データモデル (Prisma Schema)

### 3.1 Work (作品主体)
| フィールド | 型 | 内容 |
| :--- | :--- | :--- |
| title | String | 作品タイトル (必須) |
| kitName | String? | キット名 |
| maker | String? | メーカー名 |
| scale | String? | スケール (例: 1/144) |
| genre | String? | ジャンル (作品の分類) |
| startDate | DateTime? | 制作開始日 |
| endDate | DateTime? | 制作完了日 |
| paints | String? | 使用塗料 |
| description | String? | 改造・ポイント等の自由記述 |
| mainImage | String | メイン写真のURL/パス (必須) |

### 3.2 Image (サブ写真)
- 1つの Work に対して複数の画像を紐付け可能 (1:N)

### 3.3 Tag (タグ)
- 作品に複数のタグを付与可能 (N:M)
- 名前でユニーク管理

## 4. 認証仕様 (Auth.js / NextAuth)

- **認証プロバイダー**: Google ログイン
- **権限管理**:
  - **非ログインユーザー**: 作品の閲覧（一覧・詳細）のみ可能
  - **ログインユーザー**: 作品の新規投稿が可能
- **セッション同期**: ヘッダーのユーザーアイコン表示や、投稿ボタンの制御に使用
